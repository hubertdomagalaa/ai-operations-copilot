{
  "ticket_id": "ticket_015",
  "source": "github",
  "product": "FastAPI",
  "category": "asgi",
  "issue_type": "bug",
  "severity": "medium",
  "environment": "production",
  "summary": "GraphQL app integration with FastAPI causes 'Unexpected ASGI message http.response.start sent after response already completed' error in logs despite correct client behavior.",
  "symptoms": [
    "RuntimeError: Unexpected ASGI message 'http.response.start' sent, after response already completed",
    "ERROR: Exception in ASGI application in logs",
    "No erroneous client behavior",
    "Occurs with starlette-graphene3 integration"
  ],
  "suspected_root_cause": "GraphQL app wrapper sends response after FastAPI/Starlette has already completed the response cycle, possibly due to background tasks or async gather operations",
  "affected_components": [
    "GraphQLApp",
    "starlette-graphene3",
    "ASGI",
    "background tasks"
  ],
  "reproducible": true,
  "has_code_example": true,
  "resolution_known": false,
  "resolution_type": "unknown",
  "related_versions": {
    "fastapi": "0.75.2",
    "uvicorn": "0.17.6",
    "gunicorn": "20.1.0",
    "python": "3.8"
  },
  "raw_reference": "data/tickets/raw/ticket_015.md"
}
